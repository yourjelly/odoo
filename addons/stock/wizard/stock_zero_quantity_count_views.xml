<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <record id="view_stock_zero_quantity_count" model="ir.ui.view">
    <field name="name">stock.zero.quantity.count.view.form</field>
    <field name="model">stock.zero.quantity.count</field>
    <field name="arch" type="xml">
      <form string="Zero Quantity Count">
        <group>
          <p>Some products of the inventory reached quantity 0, please validate the following :</p>
        </group>
          <field name="inventory_lines">
            <tree editable="top" string="Inventory Details" decoration-info="product_qty != theoretical_qty" decoration-danger="theoretical_qty &lt; 0" delete="0" create="0">
              <field name="product_tracking" invisible="1"/>
              <field name="product_id"  domain="[('type','=','product')]" readonly="1"/>
              <field name="product_uom_id" string="UoM" groups="uom.group_uom"/>
              <field name="location_id" domain="[('id', 'child_of', inventory_location_id)]" groups="stock.group_stock_multi_locations"/>
              <field name="prod_lot_id" domain="[('product_id', '=', product_id)]" attrs="{'readonly': [('product_tracking', '=', 'none')]}" context="{'default_product_id': product_id}"  groups="stock.group_production_lot"/>
              <field name="package_id" domain="['|', ('location_id','=', False), ('location_id', '=', location_id)]" groups="stock.group_tracking_lot"/>
              <field name="partner_id" groups="stock.group_tracking_owner"/>
              <field name="theoretical_qty" readonly="1"/>
              <field name="product_qty" string="Real Quantity"/>
              <field name="state" invisible="1"/>
              <field name="inventory_id" invisible="1"/>
              <field name="inventory_location_id" invisible="1"/>
            </tree>
          </field>
        <footer>
          <button name="action_zero_quantity_count" string="Confirm" type="object" class="btn-primary"/>
          <button string="Discard" special="cancel" class="btn-secondary"/>
        </footer>
      </form>
    </field>
  </record>
</odoo>
