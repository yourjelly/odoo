<templates>

    <t t-inherit="loyalty.portal_loyalty_card_dialog" t-inherit-mode="extension">
        <div name="history_lines" position="after">
            <div t-if="props.program.program_type == 'ewallet'">
                <form method="post" action="/topup/pay" class="d-flex w-50 m-auto">
                    <input type="hidden" name="csrf_token" t-att-value="csrf_token"/>
                    <select name="trigger_product_id" class="form-select">
                        <t
                            t-foreach="props.program.trigger_products"
                            t-as="product"
                            t-key="product_index"
                        >
                            <option t-att-value="product.id">
                                <t t-esc="product.total_price"/>
                            </option>
                        </t>
                    </select>
                    <button type="submit" class="btn btn-primary text-nowrap">Top Up</button>
                </form>
            </div>
        </div>
    </t>

</templates>
