<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="tax_report" model="account.report">
        <field name="name">Relatório de IVA</field>
        <field name="root_report_id" ref="account.generic_tax_report"/>
        <field name="country_id" ref="base.pt"/>
        <field name="filter_fiscal_position" eval="True"/>
        <field name="availability_condition">country</field>
        <field name="column_ids">
            <record id="tax_report_balance" model="account.report.column">
                <field name="name">Balance</field>
                <field name="expression_label">balance</field>
                <field name="sequence" eval="1"/>
            </record>
        </field>
        <field name="line_ids">
            <record id="tax_report_pt_base" model="account.report.line">
                <field name="name">Base</field>
                <field name="sequence" eval="1"/>
                <field name="children_ids">
                    <record id="tax_report_pt_base_vendas" model="account.report.line">
                        <field name="name">Vendas</field>
                        <field name="sequence" eval="2"/>
                        <field name="children_ids">
                            <record id="tax_report_pt_base_vendas_faturas" model="account.report.line">
                                <field name="name">Faturas/Notas de débito</field>
                                <field name="sequence" eval="3"/>
                                <field name="expression_ids">
                                    <record id="tax_report_pt_base_vendas_faturas_formula" model="account.report.expression">
                                        <field name="label">balance</field>
                                        <field name="engine">aggregation</field>
                                        <field name="formula">TAX_REPORT_PT_BASE_VENDAS_FATURAS_NORMAL.balance + TAX_REPORT_PT_BASE_VENDAS_FATURAS_INTERMEDIA.balance + TAX_REPORT_PT_BASE_VENDAS_FATURAS_REDUZIDA.balance + TAX_REPORT_PT_BASE_VENDAS_FATURAS_ISENTO.balance</field>
                                    </record>
                                </field>
                                <field name="children_ids">
                                    <record id="tax_report_pt_base_vendas_faturas_normal" model="account.report.line">
                                        <field name="name">Normal</field>
                                        <field name="code">TAX_REPORT_PT_BASE_VENDAS_FATURAS_NORMAL</field>
                                        <field name="sequence" eval="4"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_vendas_faturas_normal_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_vendas_faturas_normal</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_vendas_faturas_intermedia" model="account.report.line">
                                        <field name="name">Intermédia</field>
                                        <field name="code">TAX_REPORT_PT_BASE_VENDAS_FATURAS_INTERMEDIA</field>
                                        <field name="sequence" eval="5"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_vendas_faturas_intermedia_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_vendas_faturas_intermedia</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_vendas_faturas_reduzida" model="account.report.line">
                                        <field name="name">Reduzida</field>
                                        <field name="code">TAX_REPORT_PT_BASE_VENDAS_FATURAS_REDUZIDA</field>
                                        <field name="sequence" eval="6"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_vendas_faturas_reduzida_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_vendas_faturas_reduzida</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_vendas_faturas_isento" model="account.report.line">
                                        <field name="name">Isento</field>
                                        <field name="code">TAX_REPORT_PT_BASE_VENDAS_FATURAS_ISENTO</field>
                                        <field name="sequence" eval="7"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_vendas_faturas_isento_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_vendas_faturas_isento</field>
                                            </record>
                                        </field>
                                    </record>
                                </field>
                            </record>
                            <record id="tax_report_pt_base_vendas_notas_credito" model="account.report.line">
                                <field name="name">Notas de crédito</field>
                                <field name="sequence" eval="8"/>
                                <field name="expression_ids">
                                    <record id="tax_report_pt_base_vendas_notas_credito_formula" model="account.report.expression">
                                        <field name="label">balance</field>
                                        <field name="engine">aggregation</field>
                                        <field name="formula">TAX_REPORT_PT_BASE_VENDAS_NOTAS_CREDITO_NORMAL.balance + TAX_REPORT_PT_BASE_VENDAS_NOTAS_CREDITO_INTERMEDIA.balance + TAX_REPORT_PT_BASE_VENDAS_NOTAS_CREDITO_REDUZIDA.balance + TAX_REPORT_PT_BASE_VENDAS_NOTAS_CREDITO_ISENTO.balance</field>
                                    </record>
                                </field>
                                <field name="children_ids">
                                    <record id="tax_report_pt_base_vendas_notas_credito_normal" model="account.report.line">
                                        <field name="name">Normal</field>
                                        <field name="code">TAX_REPORT_PT_BASE_VENDAS_NOTAS_CREDITO_NORMAL</field>
                                        <field name="sequence" eval="9"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_vendas_notas_credito_normal_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_vendas_notas_credito_normal</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_vendas_notas_credito_intermedia" model="account.report.line">
                                        <field name="name">Intermédia</field>
                                        <field name="code">TAX_REPORT_PT_BASE_VENDAS_NOTAS_CREDITO_INTERMEDIA</field>
                                        <field name="sequence" eval="10"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_vendas_notas_credito_intermedia_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_vendas_notas_credito_intermedia</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_vendas_notas_credito_reduzida" model="account.report.line">
                                        <field name="name">Reduzida</field>
                                        <field name="code">TAX_REPORT_PT_BASE_VENDAS_NOTAS_CREDITO_REDUZIDA</field>
                                        <field name="sequence" eval="11"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_vendas_notas_credito_reduzida_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_vendas_notas_credito_reduzida</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_vendas_notas_credito_isento" model="account.report.line">
                                        <field name="name">Isento</field>
                                        <field name="code">TAX_REPORT_PT_BASE_VENDAS_NOTAS_CREDITO_ISENTO</field>
                                        <field name="sequence" eval="12"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_vendas_notas_credito_isento_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_vendas_notas_credito_isento</field>
                                            </record>
                                        </field>
                                    </record>
                                </field>
                            </record>
                        </field>
                    </record>
                    <record id="tax_report_pt_base_despesas" model="account.report.line">
                        <field name="name">Despesas</field>
                        <field name="sequence" eval="13"/>
                        <field name="children_ids">
                            <record id="tax_report_pt_base_despesas_faturas" model="account.report.line">
                                <field name="name">Faturas</field>
                                <field name="sequence" eval="14"/>
                                <field name="expression_ids">
                                    <record id="tax_report_pt_base_despesas_faturas_formula" model="account.report.expression">
                                        <field name="label">balance</field>
                                        <field name="engine">aggregation</field>
                                        <field name="formula">TAX_REPORT_PT_BASE_DESPESAS_FATURAS_NORMAL.balance + TAX_REPORT_PT_BASE_DESPESAS_FATURAS_INTERMEDIA.balance + TAX_REPORT_PT_BASE_DESPESAS_FATURAS_REDUZIDA.balance + TAX_REPORT_PT_BASE_DESPESAS_FATURAS_ISENTO.balance</field>
                                    </record>
                                </field>
                                <field name="children_ids">
                                    <record id="tax_report_pt_base_despesas_faturas_normal" model="account.report.line">
                                        <field name="name">Normal</field>
                                        <field name="code">TAX_REPORT_PT_BASE_DESPESAS_FATURAS_NORMAL</field>
                                        <field name="sequence" eval="15"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_despesas_faturas_normal_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_despesas_faturas_normal</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_despesas_faturas_intermedia" model="account.report.line">
                                        <field name="name">Intermédia</field>
                                        <field name="code">TAX_REPORT_PT_BASE_DESPESAS_FATURAS_INTERMEDIA</field>
                                        <field name="sequence" eval="16"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_despesas_faturas_intermedia_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_despesas_faturas_intermedia</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_despesas_faturas_reduzida" model="account.report.line">
                                        <field name="name">Reduzida</field>
                                        <field name="code">TAX_REPORT_PT_BASE_DESPESAS_FATURAS_REDUZIDA</field>
                                        <field name="sequence" eval="17"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_despesas_faturas_reduzida_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_despesas_faturas_reduzida</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_despesas_faturas_isento" model="account.report.line">
                                        <field name="name">Isento</field>
                                        <field name="code">TAX_REPORT_PT_BASE_DESPESAS_FATURAS_ISENTO</field>
                                        <field name="sequence" eval="18"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_despesas_faturas_isento_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_despesas_faturas_isento</field>
                                            </record>
                                        </field>
                                    </record>
                                </field>
                            </record>
                            <record id="tax_report_pt_base_despesas_notas_credito" model="account.report.line">
                                <field name="name">Notas de crédito</field>
                                <field name="sequence" eval="19"/>
                                <field name="expression_ids">
                                    <record id="tax_report_pt_base_despesas_notas_credito_formula" model="account.report.expression">
                                        <field name="label">balance</field>
                                        <field name="engine">aggregation</field>
                                        <field name="formula">TAX_REPORT_PT_BASE_DESPESAS_NOTAS_CREDITO_NORMAL.balance + TAX_REPORT_PT_BASE_DESPESAS_NOTAS_CREDITO_INTERMEDIA.balance + TAX_REPORT_PT_BASE_DESPESAS_NOTAS_CREDITO_REDUZIDA.balance + TAX_REPORT_PT_BASE_DESPESAS_NOTAS_CREDITO_ISENTO.balance</field>
                                    </record>
                                </field>
                                <field name="children_ids">
                                    <record id="tax_report_pt_base_despesas_notas_credito_normal" model="account.report.line">
                                        <field name="name">Normal</field>
                                        <field name="code">TAX_REPORT_PT_BASE_DESPESAS_NOTAS_CREDITO_NORMAL</field>
                                        <field name="sequence" eval="20"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_despesas_notas_credito_normal_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_despesas_notas_credito_normal</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_despesas_notas_credito_intermedia" model="account.report.line">
                                        <field name="name">Intermédia</field>
                                        <field name="code">TAX_REPORT_PT_BASE_DESPESAS_NOTAS_CREDITO_INTERMEDIA</field>
                                        <field name="sequence" eval="21"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_despesas_notas_credito_intermedia_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_despesas_notas_credito_intermedia</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_despesas_notas_credito_reduzida" model="account.report.line">
                                        <field name="name">Reduzida</field>
                                        <field name="code">TAX_REPORT_PT_BASE_DESPESAS_NOTAS_CREDITO_REDUZIDA</field>
                                        <field name="sequence" eval="22"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_despesas_notas_credito_reduzida_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_despesas_notas_credito_reduzida</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_base_despesas_notas_credito_isento" model="account.report.line">
                                        <field name="name">Isento</field>
                                        <field name="code">TAX_REPORT_PT_BASE_DESPESAS_NOTAS_CREDITO_ISENTO</field>
                                        <field name="sequence" eval="23"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_base_despesas_notas_credito_isento_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_base_despesas_notas_credito_isento</field>
                                            </record>
                                        </field>
                                    </record>
                                </field>
                            </record>
                        </field>
                    </record>
                </field>
            </record>
            <record id="tax_report_pt_iva" model="account.report.line">
                <field name="name">IVA</field>
                <field name="sequence" eval="24"/>
                <field name="children_ids">
                    <record id="tax_report_pt_tax_vendas" model="account.report.line">
                        <field name="name">Vendas</field>
                        <field name="sequence" eval="25"/>
                        <field name="children_ids">
                            <record id="tax_report_pt_tax_vendas_faturas" model="account.report.line">
                                <field name="name">Faturas/Notas de débito (Total IVA liquidado)</field>
                                <field name="code">tax_report_pt_tax_vendas_faturas</field>
                                <field name="sequence" eval="26"/>
                                <field name="expression_ids">
                                    <record id="tax_report_pt_tax_vendas_faturas_formula" model="account.report.expression">
                                        <field name="label">balance</field>
                                        <field name="engine">aggregation</field>
                                        <field name="formula">TAX_REPORT_PT_TAX_VENDAS_FATURAS_NORMAL.balance + TAX_REPORT_PT_TAX_VENDAS_FATURAS_INTERMEDIA.balance + TAX_REPORT_PT_TAX_VENDAS_FATURAS_REDUZIDA.balance + TAX_REPORT_PT_TAX_VENDAS_FATURAS_ISENTO.balance</field>
                                    </record>
                                </field>
                                <field name="children_ids">
                                    <record id="tax_report_pt_tax_vendas_faturas_normal" model="account.report.line">
                                        <field name="name">Normal</field>
                                        <field name="code">TAX_REPORT_PT_TAX_VENDAS_FATURAS_NORMAL</field>
                                        <field name="sequence" eval="27"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_vendas_faturas_normal_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_vendas_faturas_normal</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_vendas_faturas_intermedia" model="account.report.line">
                                        <field name="name">Intermédia</field>
                                        <field name="code">TAX_REPORT_PT_TAX_VENDAS_FATURAS_INTERMEDIA</field>
                                        <field name="sequence" eval="28"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_vendas_faturas_intermedia_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_vendas_faturas_intermedia</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_vendas_faturas_reduzida" model="account.report.line">
                                        <field name="name">Reduzida</field>
                                        <field name="code">TAX_REPORT_PT_TAX_VENDAS_FATURAS_REDUZIDA</field>
                                        <field name="sequence" eval="29"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_vendas_faturas_reduzida_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_vendas_faturas_reduzida</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_vendas_faturas_isento" model="account.report.line">
                                        <field name="name">Isento</field>
                                        <field name="code">TAX_REPORT_PT_TAX_VENDAS_FATURAS_ISENTO</field>
                                        <field name="sequence" eval="30"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_vendas_faturas_isento_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_vendas_faturas_isento</field>
                                            </record>
                                        </field>
                                    </record>
                                </field>
                            </record>
                            <record id="tax_report_pt_tax_vendas_notas_credito" model="account.report.line">
                                <field name="name">Notas de crédito (Total IVA regularizado a favor da empresa)</field>
                                <field name="code">tax_report_pt_tax_vendas_notas_credito</field>
                                <field name="sequence" eval="31"/>
                                <field name="expression_ids">
                                    <record id="tax_report_pt_tax_vendas_notas_credito_formula" model="account.report.expression">
                                        <field name="label">balance</field>
                                        <field name="engine">aggregation</field>
                                        <field name="formula">TAX_REPORT_PT_TAX_VENDAS_NOTAS_CREDITO_NORMAL.balance + TAX_REPORT_PT_TAX_VENDAS_NOTAS_CREDITO_INTERMEDIA.balance + TAX_REPORT_PT_TAX_VENDAS_NOTAS_CREDITO_REDUZIDA.balance + TAX_REPORT_PT_TAX_VENDAS_NOTAS_CREDITO_ISENTO.balance</field>
                                    </record>
                                </field>
                                <field name="children_ids">
                                    <record id="tax_report_pt_tax_vendas_notas_credito_normal" model="account.report.line">
                                        <field name="name">Normal</field>
                                        <field name="code">TAX_REPORT_PT_TAX_VENDAS_NOTAS_CREDITO_NORMAL</field>
                                        <field name="sequence" eval="32"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_vendas_notas_credito_normal_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_vendas_notas_credito_normal</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_vendas_notas_credito_intermedia" model="account.report.line">
                                        <field name="name">Intermédia</field>
                                        <field name="code">TAX_REPORT_PT_TAX_VENDAS_NOTAS_CREDITO_INTERMEDIA</field>
                                        <field name="sequence" eval="33"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_vendas_notas_credito_intermedia_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_vendas_notas_credito_intermedia</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_vendas_notas_credito_reduzida" model="account.report.line">
                                        <field name="name">Reduzida</field>
                                        <field name="code">TAX_REPORT_PT_TAX_VENDAS_NOTAS_CREDITO_REDUZIDA</field>
                                        <field name="sequence" eval="34"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_vendas_notas_credito_reduzida_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_vendas_notas_credito_reduzida</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_vendas_notas_credito_isento" model="account.report.line">
                                        <field name="name">Isento</field>
                                        <field name="code">TAX_REPORT_PT_TAX_VENDAS_NOTAS_CREDITO_ISENTO</field>
                                        <field name="sequence" eval="35"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_vendas_notas_credito_isento_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_vendas_notas_credito_isento</field>
                                            </record>
                                        </field>
                                    </record>
                                </field>
                            </record>
                        </field>
                    </record>
                    <record id="tax_report_pt_tax_despesas" model="account.report.line">
                        <field name="name">Despesas</field>
                        <field name="sequence" eval="36"/>
                        <field name="children_ids">
                            <record id="tax_report_pt_tax_despesas_faturas" model="account.report.line">
                                <field name="name">Faturas (Total IVA dedutível)</field>
                                <field name="code">tax_report_pt_tax_despesas_faturas</field>
                                <field name="sequence" eval="37"/>
                                <field name="expression_ids">
                                    <record id="tax_report_pt_tax_despesas_faturas_formula" model="account.report.expression">
                                        <field name="label">balance</field>
                                        <field name="engine">aggregation</field>
                                        <field name="formula">TAX_REPORT_PT_TAX_DESPESAS_FATURAS_NORMAL.balance + TAX_REPORT_PT_TAX_DESPESAS_FATURAS_INTERMEDIA.balance + TAX_REPORT_PT_TAX_DESPESAS_FATURAS_REDUZIDA.balance + TAX_REPORT_PT_TAX_DESPESAS_FATURAS_ISENTO.balance</field>
                                    </record>
                                </field>
                                <field name="children_ids">
                                    <record id="tax_report_pt_tax_despesas_faturas_normal" model="account.report.line">
                                        <field name="name">Normal</field>
                                        <field name="code">TAX_REPORT_PT_TAX_DESPESAS_FATURAS_NORMAL</field>
                                        <field name="sequence" eval="38"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_despesas_faturas_normal_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_despesas_faturas_normal</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_despesas_faturas_intermedia" model="account.report.line">
                                        <field name="name">Intermédia</field>
                                        <field name="code">TAX_REPORT_PT_TAX_DESPESAS_FATURAS_INTERMEDIA</field>
                                        <field name="sequence" eval="39"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_despesas_faturas_intermedia_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_despesas_faturas_intermedia</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_despesas_faturas_reduzida" model="account.report.line">
                                        <field name="name">Reduzida</field>
                                        <field name="code">TAX_REPORT_PT_TAX_DESPESAS_FATURAS_REDUZIDA</field>
                                        <field name="sequence" eval="40"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_despesas_faturas_reduzida_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_despesas_faturas_reduzida</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_despesas_faturas_isento" model="account.report.line">
                                        <field name="name">Isento</field>
                                        <field name="code">TAX_REPORT_PT_TAX_DESPESAS_FATURAS_ISENTO</field>
                                        <field name="sequence" eval="41"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_despesas_faturas_isento_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_despesas_faturas_isento</field>
                                            </record>
                                        </field>
                                    </record>
                                </field>
                            </record>
                            <record id="tax_report_pt_tax_despesas_notas_credito" model="account.report.line">
                                <field name="name">Notas de crédito (Total IVA regularizado a favor do Estado)</field>
                                <field name="code">tax_report_pt_tax_despesas_notas_credito</field>
                                <field name="sequence" eval="42"/>
                                <field name="expression_ids">
                                    <record id="tax_report_pt_tax_despesas_notas_credito_formula" model="account.report.expression">
                                        <field name="label">balance</field>
                                        <field name="engine">aggregation</field>
                                        <field name="formula">TAX_REPORT_PT_TAX_DESPESAS_NOTAS_CREDITO_NORMAL.balance + TAX_REPORT_PT_TAX_DESPESAS_NOTAS_CREDITO_INTERMEDIA.balance + TAX_REPORT_PT_TAX_DESPESAS_NOTAS_CREDITO_REDUZIDA.balance + TAX_REPORT_PT_TAX_DESPESAS_NOTAS_CREDITO_ISENTO.balance</field>
                                    </record>
                                </field>
                                <field name="children_ids">
                                    <record id="tax_report_pt_tax_despesas_notas_credito_normal" model="account.report.line">
                                        <field name="name">Normal</field>
                                        <field name="code">TAX_REPORT_PT_TAX_DESPESAS_NOTAS_CREDITO_NORMAL</field>
                                        <field name="sequence" eval="43"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_despesas_notas_credito_normal_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_despesas_notas_credito_normal</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_despesas_notas_credito_intermedia" model="account.report.line">
                                        <field name="name">Intermédia</field>
                                        <field name="code">TAX_REPORT_PT_TAX_DESPESAS_NOTAS_CREDITO_INTERMEDIA</field>
                                        <field name="sequence" eval="44"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_despesas_notas_credito_intermedia_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_despesas_notas_credito_intermedia</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_despesas_notas_credito_reduzida" model="account.report.line">
                                        <field name="name">Reduzida</field>
                                        <field name="code">TAX_REPORT_PT_TAX_DESPESAS_NOTAS_CREDITO_REDUZIDA</field>
                                        <field name="sequence" eval="45"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_despesas_notas_credito_reduzida_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_despesas_notas_credito_reduzida</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_pt_tax_despesas_notas_credito_isento" model="account.report.line">
                                        <field name="name">Isento</field>
                                        <field name="code">TAX_REPORT_PT_TAX_DESPESAS_NOTAS_CREDITO_ISENTO</field>
                                        <field name="sequence" eval="46"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_pt_tax_despesas_notas_credito_isento_tag" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">tax_tags</field>
                                                <field name="formula">tax_report_pt_tax_despesas_notas_credito_isento</field>
                                            </record>
                                        </field>
                                    </record>
                                </field>
                            </record>
                        </field>
                    </record>
                </field>
            </record>
            <record id="tax_report_pt_tax_total_pagar" model="account.report.line">
                <field name="name">TOTAL IVA A PAGAR</field>
                <field name="code">tax_report_pt_tax_total_pagar</field>
                <field name="sequence" eval="47"/>
                <field name="expression_ids">
                    <record id="tax_report_pt_tax_total_pagar_formula" model="account.report.expression">
                        <field name="label">balance</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">tax_report_pt_tax_vendas_faturas.balance - tax_report_pt_tax_vendas_notas_credito.balance - tax_report_pt_tax_despesas_faturas.balance + tax_report_pt_tax_despesas_notas_credito.balance</field>
                        <field name="subformula">if_above(EUR(0))</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_pt_tax_total_receber" model="account.report.line">
                <field name="name">TOTAL IVA A RECEBER</field>
                <field name="sequence" eval="48"/>
                <field name="expression_ids">
                    <record id="tax_report_pt_tax_total_receber_formula" model="account.report.expression">
                        <field name="label">balance</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">-tax_report_pt_tax_vendas_faturas.balance + tax_report_pt_tax_vendas_notas_credito.balance + tax_report_pt_tax_despesas_faturas.balance - tax_report_pt_tax_despesas_notas_credito.balance</field>
                        <field name="subformula">if_above(EUR(0))</field>
                    </record>
                </field>
            </record>
        </field>
    </record>
</odoo>
